{% extends "base.html" %}

{% block title %}
<h1>Forums</h1>
{% endblock title %}

{% block bodycontent %}
<!--<form class="pure-form" method="POST" action="forum">
  <button type="submit" class="pure-button">
    <i class="fa fa-caret-left">  Back</i>
  </button>
</form>-->
<div class ="pure-menu pure-menu-open pure-menu-horizontal">
<ul>
<li>
<a href="../forums" class="pure-menu-selected">
  <img src="http://www.cslb.ca.gov/Newsletter/2014-Fall/images/leftarrow.jpg" height=24 width=24></img>
  <font size=4>Back</font>
</a>
</li>
</ul>
</div>

<center>
<div class="pure-u-2-3">
  <!-- the form to create a new post will redirect them to the new post they made?
       under post() in app.py, take the new post and add it to the db file. -senpai -->
  <form method="POST" class="pure-form pure-form-stacked">
    <fieldset>
      <legend>Create New Post</legend>
      <input name="topic" type="hidden" value="{{ topic }}">
      <input name="username" type="text" placeholder="Username">
      <input name="title" id="title" type="text" placeholder="Title">
      <textarea  name="body" class="pure-u-3-4"></textarea>
      
      <button name="b" type="submit" class="pure-button">Submit</button>
    </fieldset>
  </form>
</div>
</center>
<br><hr><br>
<table class="pure-table pure-table-horizontal">
  <thead>
    <th>{{ topic }}</th>
    <th></th>
  </thead>
  <tbody>
    {% for post in posts%}
    <tr>
      <td>
	<form class="pure-form pure-form-stacked" method="GET" action="post">
	  <input type="hidden" name="postID" value="{{ post[0] }}">
	  <input type="hidden" name="topic" value="{{ topic }}">
	  <button type="submit" name="id" value="0" class="pure-button">{{ post[2] }}</button>
	</form>
      </td>
      <td>
	By: {{ post[3] }}
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
<!-- use python to get all POSTS and put it into a {string} in a table-->
{% endblock bodycontent %}

